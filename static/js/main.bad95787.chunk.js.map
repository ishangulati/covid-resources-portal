{"version":3,"sources":["Utils.ts","Enums.ts","CompactResouceCard.tsx","FilterControls.tsx","WhatsAppChat.tsx","DetailsPane.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["timeDifference","current","previous","msPerMinute","msPerHour","msPerDay","msPerMonth","msPerYear","elapsed","Math","round","toTitleCase","str","replace","txt","charAt","toUpperCase","substr","toLowerCase","categoryMapping","medicine","text","color","logoIcon","bloodgroup","therapy","vaccine","oxygen","bed","ambulance","food","getEnumValues","obj","Object","values","map","k","key","Type","Source","Medicince","Ambulance","Food","Oxygen","Bed","Therapy","BloodGroup","Vaccine","CATEGORIES","ResourceCardCompact","props","resource","leads","l","name","sender","profileImageSrc","resourceDetails","icons","forEach","cat","length","push","join","getIconsAndTextObject","DocumentCard","onClick","ev","setFocusVisibility","type","DocumentCardType","compact","style","height","overflow","position","width","data-is-focusable","fontSize","fontWeight","display","padding","textDecoration","wordBreak","href","contactuid","margin","icon","i","DocumentCardLogo","styles","root","iconType","DocumentCardDetails","DocumentCardTitle","title","shouldTruncate","showAsSecondaryTitle","textTransform","DocumentCardStatus","statusIcon","textOverflow","whiteSpace","status","location","DocumentCardActivity","activity","Date","getTime","lastShared","people","FilterControls","category","subCategory","setCategory","setSubCategory","setType","dropdownRef","React","getOptionsForCategory","dropdownOptions","setDropdownOptions","Stack","tokens","childrenGap","ChoiceGroup","selectedKey","options","typeOptions","onChange","option","currentKey","label","defaultSelectedKey","categoryOptions","focus","Dropdown","placeholder","selectedKeys","componentRef","event","item","index","selected","filter","multiSelect","required","disabled","dropdownStyles","onDismiss","dropdown","iconProps","iconName","WhatsAppChat","className","time","toLocaleString","DetailsPane","overflowY","Persona","contact","secondaryText","tertiaryText","imageInitials","size","PersonaSize","size72","ListCard","alignItems","flexWrap","sort","a","b","originTimestamp","slice","lead","Lead","leaduid","Icon","paddingLeft","source","link","Image","src","normalizeContact","split","JSON","parse","rawdata","message","toString","tweetId","phoneNumber","normalizedContact","startsWith","number","stackTokens","App","exact","path","Home","component","Search","Details","verticalAlign","verticalFill","to","initializeIcons","withRouter","useState","search","paramStr","setParamString","params","URLSearchParams","paramValues","getAll","getCurrentCategory","types","getCurrentType","resources","setResources","isLoading","setIsLoading","onHistoryChange","useEffect","removeListener","history","listen","searchUrl","formSearchUrl","fetch","method","then","res","json","response","rows","catch","error","console","log","useBoolean","isOpen","openFiltersPanel","setTrue","dismissPanel","setFalse","updateParams","newParamStr","selectedIdx","setSelectedIdx","DefaultButton","marginBottom","maxWidth","Panel","headerText","isLightDismiss","PanelType","medium","closeButtonAriaLabel","newCategory","delete","opt","append","newType","FocusZone","direction","FocusZoneDirection","vertical","isCircularNavigation","role","defaultTabbableElement","shouldFocusOnMount","flexDirection","onFocus","clickResourceNode","target","closest","nodes","Array","prototype","call","parentNode","childNodes","indexOf","wrap","inner","r","left","top","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.bad95787.chunk.js","sourcesContent":["import { IDocumentCardLogoProps } from \"@fluentui/react\";\r\nimport { IExtractedArrays } from \"./Models\";\r\n\r\ninterface IconType {\r\n  logoIcon: string;\r\n  color: string;\r\n}\r\n\r\nexport function timeDifference(current: number, previous: number) {\r\n  var msPerMinute = 60 * 1000;\r\n  var msPerHour = msPerMinute * 60;\r\n  var msPerDay = msPerHour * 24;\r\n  var msPerMonth = msPerDay * 30;\r\n  var msPerYear = msPerDay * 365;\r\n\r\n  var elapsed = current - previous;\r\n\r\n  if (elapsed < msPerMinute) {\r\n    return Math.round(elapsed / 1000) + \" seconds ago\";\r\n  } else if (elapsed < msPerHour) {\r\n    return Math.round(elapsed / msPerMinute) + \" minutes ago\";\r\n  } else if (elapsed < msPerDay) {\r\n    return Math.round(elapsed / msPerHour) + \" hours ago\";\r\n  } else if (elapsed < msPerMonth) {\r\n    return Math.round(elapsed / msPerDay) + \" days ago\";\r\n  } else if (elapsed < msPerYear) {\r\n    return Math.round(elapsed / msPerMonth) + \" months ago\";\r\n  } else {\r\n    return Math.round(elapsed / msPerYear) + \" years ago\";\r\n  }\r\n}\r\n\r\nexport function getIconsAndTextObject(resource: IExtractedArrays) {\r\n  let text: string[] = [];\r\n  let icons: IconType[] = [];\r\n\r\n  CATEGORIES.forEach((cat) => {\r\n    if (resource[cat] && resource[cat]?.length) {\r\n      text.push((resource[cat] || []).join(\";\"));\r\n      icons.push(categoryMapping[cat]);\r\n    }\r\n  });\r\n\r\n  return {\r\n    text,\r\n    icons,\r\n  };\r\n}\r\n\r\nexport function toTitleCase(str: string) {\r\n  return str.replace(/\\w\\S*/g, function (txt) {\r\n    return txt.charAt(0).toUpperCase() + txt.substr(1).toLowerCase();\r\n  });\r\n}\r\n\r\nexport function getLogoProps(iconType: IconType): IDocumentCardLogoProps {\r\n  return {\r\n    styles: {\r\n      root: {\r\n        fontSize: 20,\r\n        padding: 5,\r\n        display: \"inline-block\",\r\n        color: iconType.color,\r\n      },\r\n    },\r\n    logoIcon: iconType.logoIcon,\r\n  };\r\n}\r\n\r\nexport const categoryMapping: {\r\n  [name in CategoryType]: { text: string; color: string; logoIcon: string };\r\n} = {\r\n  medicine: {\r\n    text: \"Medicine\",\r\n    color: \"black\",\r\n    logoIcon: \"Hospital\",\r\n  },\r\n  bloodgroup: { text: \"Blood Group\", color: \"red\", logoIcon: \"Drop\" },\r\n  therapy: { text: \"Therapy\", color: \"orange\", logoIcon: \"Health\" },\r\n  vaccine: { text: \"Vaccine\", color: \"green\", logoIcon: \"ShieldSolid\" },\r\n  oxygen: { text: \"Oxygen Supplies\", color: \"blue\", logoIcon: \"SpeedHigh\" },\r\n  bed: { text: \"Beds\", color: \"black\", logoIcon: \"Hotel\" },\r\n  ambulance: {\r\n    text: \"Ambulance\",\r\n    color: \"black\",\r\n    logoIcon: \"ParkingLocationMirrored\",\r\n  },\r\n  food: { text: \"Food\", color: \"green\", logoIcon: \"Breakfast\" },\r\n};\r\n\r\nexport function getEnumValues(obj: Object) {\r\n  return Object.values(obj).map((k) => ({ key: k, text: k }));\r\n}\r\n\r\nexport const CATEGORIES: CategoryType[] = [\r\n  \"medicine\",\r\n  \"bloodgroup\",\r\n  \"vaccine\",\r\n  \"therapy\",\r\n  \"oxygen\",\r\n  \"bed\",\r\n  \"ambulance\",\r\n  \"food\",\r\n];\r\n\r\nexport type CategoryType =\r\n  | \"medicine\"\r\n  | \"bloodgroup\"\r\n  | \"therapy\"\r\n  | \"vaccine\"\r\n  | \"oxygen\"\r\n  | \"bed\"\r\n  | \"ambulance\"\r\n  | \"food\";\r\n","export enum Type {\r\n  Availability = \"availability\",\r\n  Requirement = \"requirement\",\r\n}\r\n\r\nexport enum Source {\r\n  WhatsApp = \"whatsapp\",\r\n  Twitter = \"twitter\",\r\n}\r\n\r\nexport enum Medicince {\r\n  CovidMedicines = \"Covid Medicines\",\r\n  LiposomalAmphotericinB = \"Liposomal Amphotericin B\",\r\n  Tocilizumab = \"Tocilizumab\",\r\n  BaricitinibOlumiant = \"Baricitinib Olumiant\",\r\n  Fabiflu = \"Fabiflu\",\r\n  Favipivavir = \"Favipivavir\",\r\n  Xarelto = \"Xarelto\",\r\n  SodiumLactate = \"Sodium Lactate\",\r\n  SodiumChloride = \"Sodium Chloride\",\r\n  Doxycycline = \"Doxycycline\",\r\n  Pantoprazole = \"Pantoprazole\",\r\n  Anidulafungin = \"Anidulafungin\",\r\n  Meropenem = \"Meropenem\",\r\n  Deflazacort = \"Deflazacort\",\r\n  Zinc = \"Zinc\",\r\n  Azithromycin = \"Azithromycin\",\r\n  Bevacuzimab = \"Bevacuzimab\",\r\n  Enoxaparin = \"Enoxaparin\",\r\n  Posatral = \"Posatral\",\r\n  Medrol = \"Medrol\",\r\n  Remdesivir = \"Remdesivir\",\r\n  Cresemba = \"Cresemba\",\r\n  Alprazolam = \"Alprazolam\",\r\n}\r\n\r\nexport enum Ambulance {\r\n  Ambulance = \"Ambulance\",\r\n}\r\n\r\nexport enum Food {\r\n  Food = \"Food\",\r\n  DryRation = \"Dry Ration\",\r\n}\r\n\r\nexport enum Oxygen {\r\n  OxygenCans = \"Oxygen Cans\",\r\n  OxygenCylinders = \"Oxygen Cylinders\",\r\n  OxygenConcentrators = \"Oxygen Concentrators\",\r\n  OxygenRefill = \"Oxygen Refill\",\r\n  OxygenRegulator = \"Oxygen Regulator\",\r\n  Oximeter = \"Oximeter\",\r\n  Respirometer = \"Respirometer\",\r\n}\r\n\r\nexport enum Bed {\r\n  HomeICU = \"Home ICU\",\r\n  OxygenBeds = \"Oxygen Beds\",\r\n  ICUBeds = \"ICU Beds\",\r\n  Ventilators = \"Ventilators\",\r\n}\r\n\r\nexport enum Therapy {\r\n  ECMO = \"ECMO\",\r\n  Plasma = \"Plasma\",\r\n}\r\n\r\nexport enum BloodGroup {\r\n  AnyGroup = \"Any Group\",\r\n  APOS = \"A+\",\r\n  ANEG = \"A-\",\r\n  BPOS = \"B+\",\r\n  BNEG = \"B-\",\r\n  ABPOS = \"AB+\",\r\n  ABNEG = \"AB-\",\r\n  OPOS = \"O+\",\r\n  ONEG = \"O-\",\r\n}\r\n\r\nexport enum Vaccine {\r\n  Covishield = \"Covishield\",\r\n  Covaxin = \"Covaxin\",\r\n  Moderna = \"Moderna\",\r\n  Pfizer = \"Pfizer\",\r\n  Sputnik = \"Sputnik\",\r\n  Johnson = \"Johnson & Johnson\",\r\n}","import * as React from \"react\";\r\nimport {\r\n  DocumentCard,\r\n  DocumentCardActivity,\r\n  DocumentCardDetails,\r\n  DocumentCardTitle,\r\n  IDocumentCardActivityPerson,\r\n  DocumentCardType,\r\n  DocumentCardStatus,\r\n  DocumentCardLogo,\r\n} from \"@fluentui/react/lib/DocumentCard\";\r\nimport { IListingContact } from \"./Models\";\r\nimport {\r\n  getIconsAndTextObject,\r\n  getLogoProps,\r\n  timeDifference,\r\n  toTitleCase,\r\n} from \"./Utils\";\r\nimport { setFocusVisibility } from \"@fluentui/react\";\r\n\r\nexport const ResourceCardCompact: React.FunctionComponent<{\r\n  resource: IListingContact;\r\n}> = (props) => {\r\n  const { resource } = props;\r\n\r\n  const leads: IDocumentCardActivityPerson[] =\r\n    resource.leads?.map((l) => ({\r\n      name: l.sender,\r\n      profileImageSrc: \"\",\r\n    })) || [];\r\n\r\n  const resourceDetails = getIconsAndTextObject(resource);\r\n\r\n  return (\r\n    <DocumentCard\r\n      onClick={(ev) => {\r\n        setFocusVisibility(true);\r\n      }}\r\n      type={DocumentCardType.compact}\r\n      style={{ height: 160, overflow: \"hidden\" }}\r\n    >\r\n      <div style={{ position: \"relative\", width: 150, overflow: \"hidden\" }}>\r\n        <a\r\n          data-is-focusable={false}\r\n          style={{\r\n            fontSize: 15,\r\n            fontWeight: 600,\r\n            color: `rgb(0, 120, 212)`,\r\n            display: \"inline-block\",\r\n            padding: \"8px 16px\",\r\n            textDecoration: \"none\",\r\n            wordBreak:\"break-word\"\r\n          }}\r\n          href={\r\n            resource.contactuid[0] === \"+\"\r\n              ? `tel://${resource.contactuid}`\r\n              : resource.contactuid\r\n          }\r\n        >\r\n          {resource.contactuid}\r\n        </a>\r\n        <div style={{ position: \"absolute\", margin: \"0 20px\" }}>\r\n          {resourceDetails.icons.map((icon, i) => (\r\n            <DocumentCardLogo key={i} {...getLogoProps(icon)} />\r\n          ))}\r\n        </div>\r\n      </div>\r\n\r\n      <DocumentCardDetails>\r\n        <DocumentCardTitle\r\n          title={`${resource.type.toUpperCase()}: ${resourceDetails.text\r\n            .map(toTitleCase)\r\n            .join(\", \")}`}\r\n          shouldTruncate\r\n          showAsSecondaryTitle\r\n          styles={{\r\n            root: { textTransform: \"Capitalize\", fontWeight: \"bold\" },\r\n          }}\r\n        ></DocumentCardTitle>\r\n        <DocumentCardStatus\r\n          statusIcon=\"MapPin\"\r\n          styles={{\r\n            root: {\r\n              overflow: \"hidden\",\r\n              textOverflow: \"ellipsis\",\r\n              whiteSpace: \"nowrap\",\r\n            },\r\n          }}\r\n          status={resource.location?.map(toTitleCase).join(\", \") || \"\"}\r\n        />\r\n        <DocumentCardActivity\r\n          activity={`Last shared: ${timeDifference(\r\n            new Date().getTime(),\r\n            new Date(resource.lastShared).getTime()\r\n          )}`}\r\n          people={leads}\r\n        />\r\n      </DocumentCardDetails>\r\n    </DocumentCard>\r\n  );\r\n};\r\n","import * as React from \"react\";\r\nimport {\r\n  Dropdown,\r\n  IDropdown,\r\n  IDropdownOption,\r\n  IDropdownStyles,\r\n} from \"@fluentui/react/lib/Dropdown\";\r\nimport { ChoiceGroup, IChoiceGroupOption, Stack } from \"@fluentui/react\";\r\nimport { categoryMapping, getEnumValues } from \"./Utils\";\r\nimport {\r\n  Ambulance,\r\n  Bed,\r\n  BloodGroup,\r\n  Food,\r\n  Medicince,\r\n  Oxygen,\r\n  Therapy,\r\n  Vaccine,\r\n} from \"./Enums\";\r\n\r\nexport interface IFilterControlsProps {\r\n  type: string;\r\n  category: string;\r\n  subCategory: string[];\r\n  setType: (k: string) => void;\r\n  setCategory: (k: string) => void;\r\n  setSubCategory: (k: string[]) => void;\r\n}\r\n\r\nexport const FilterControls: React.FunctionComponent<IFilterControlsProps> = (\r\n  props\r\n) => {\r\n  const { type, category, subCategory, setCategory, setSubCategory, setType } =\r\n    props;\r\n  const dropdownRef = React.createRef<IDropdown>();\r\n  const onSetFocus = () => dropdownRef.current!.focus(true);\r\n\r\n  const [dropdownOptions, setDropdownOptions] = React.useState<\r\n    { key: string; text: string }[]\r\n  >(getOptionsForCategory(category));\r\n\r\n  const onCategoryChange = (\r\n    ev?: React.FormEvent<HTMLElement | HTMLInputElement>,\r\n    option?: IChoiceGroupOption\r\n  ) => {\r\n    const currentKey = option?.key || \"all\";\r\n    setDropdownOptions(getOptionsForCategory(currentKey));\r\n\r\n    setSubCategory([]);\r\n    setCategory(currentKey);\r\n\r\n    if (currentKey !== \"all\") {\r\n      onSetFocus();\r\n    }\r\n  };\r\n\r\n  const onChange = (\r\n    event: React.FormEvent<HTMLDivElement>,\r\n    item?: IDropdownOption,\r\n    index?: number\r\n  ): void => {\r\n    if (item) {\r\n      setSubCategory(\r\n        item.selected\r\n          ? [...subCategory, item.key as string]\r\n          : subCategory.filter((key) => key !== item.key)\r\n      );\r\n    }\r\n  };\r\n\r\n  const onTypeChange = (\r\n    ev?: React.FormEvent<HTMLElement | HTMLInputElement> | undefined,\r\n    option?: IChoiceGroupOption | undefined\r\n  ): void => {\r\n    const currentKey = option?.key || \"both\";\r\n    setType(currentKey);\r\n  };\r\n\r\n  const selectAllIfNoneSelected = () => {\r\n    if (subCategory.length === 0 && category !== \"all\") {\r\n      setSubCategory(dropdownOptions.map((k) => k.key));\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Stack tokens={{ childrenGap: 5 }}>\r\n      <ChoiceGroup\r\n        selectedKey={type}\r\n        options={typeOptions}\r\n        onChange={onTypeChange}\r\n        label=\"Show me\"\r\n      />\r\n\r\n      <ChoiceGroup\r\n        label=\"Pick one category\"\r\n        defaultSelectedKey={category}\r\n        options={categoryOptions}\r\n        onChange={onCategoryChange}\r\n      />\r\n\r\n      <Dropdown\r\n        placeholder=\"Select options\"\r\n        label=\"Select subCategory you are looking for\"\r\n        selectedKeys={subCategory}\r\n        componentRef={dropdownRef}\r\n        // eslint-disable-next-line react/jsx-no-bind\r\n        onChange={onChange}\r\n        multiSelect\r\n        required={category !== \"all\"}\r\n        disabled={category === \"all\"}\r\n        options={dropdownOptions}\r\n        styles={dropdownStyles}\r\n        onDismiss={selectAllIfNoneSelected}\r\n      />\r\n    </Stack>\r\n  );\r\n};\r\n\r\nconst dropdownStyles: Partial<IDropdownStyles> = { dropdown: { width: 300 } };\r\n\r\nconst categoryOptions: IChoiceGroupOption[] = [\r\n  {\r\n    key: \"all\",\r\n    text: \"All\",\r\n    iconProps: {\r\n      iconName: \"CheckList\",\r\n      style: { color: \"gray\" },\r\n    },\r\n  },\r\n  {\r\n    key: \"medicine\",\r\n    text: categoryMapping.medicine.text,\r\n    iconProps: {\r\n      iconName: categoryMapping.medicine.logoIcon,\r\n      style: { color: categoryMapping.medicine.color },\r\n    },\r\n  },\r\n  {\r\n    key: \"bloodgroup\",\r\n    text: categoryMapping.bloodgroup.text,\r\n    iconProps: {\r\n      iconName: categoryMapping.bloodgroup.logoIcon,\r\n      style: { color: categoryMapping.bloodgroup.color },\r\n    },\r\n  },\r\n  {\r\n    key: \"therapy\",\r\n    text: categoryMapping.therapy.text,\r\n    iconProps: {\r\n      iconName: categoryMapping.therapy.logoIcon,\r\n      style: { color: categoryMapping.therapy.color },\r\n    },\r\n  },\r\n  {\r\n    key: \"vaccine\",\r\n    text: categoryMapping.vaccine.text,\r\n    iconProps: {\r\n      iconName: categoryMapping.vaccine.logoIcon,\r\n      style: { color: categoryMapping.vaccine.color },\r\n    },\r\n  },\r\n  {\r\n    key: \"oxygen\",\r\n    text: categoryMapping.oxygen.text,\r\n    iconProps: {\r\n      iconName: categoryMapping.oxygen.logoIcon,\r\n      style: { color: categoryMapping.oxygen.color },\r\n    },\r\n  },\r\n  {\r\n    key: \"bed\",\r\n    text: categoryMapping.bed.text,\r\n    iconProps: {\r\n      iconName: categoryMapping.bed.logoIcon,\r\n      style: { color: categoryMapping.bed.color },\r\n    },\r\n  },\r\n  {\r\n    key: \"ambulance\",\r\n    text: categoryMapping.ambulance.text,\r\n    iconProps: {\r\n      iconName: categoryMapping.ambulance.logoIcon,\r\n      style: { color: categoryMapping.ambulance.color },\r\n    },\r\n  },\r\n  {\r\n    key: \"food\",\r\n    text: categoryMapping.food.text,\r\n    iconProps: {\r\n      iconName: categoryMapping.food.logoIcon,\r\n      style: { color: categoryMapping.food.color },\r\n    },\r\n  },\r\n];\r\n\r\nconst typeOptions: IChoiceGroupOption[] = [\r\n  { key: \"both\", text: \"Both\" },\r\n  { key: \"availability\", text: \"Availability\" },\r\n  { key: \"requirement\", text: \"Requirement\" },\r\n];\r\n\r\nfunction getOptionsForCategory(category: string) {\r\n  if (category === \"medicine\") {\r\n    return getEnumValues(Medicince);\r\n  } else if (category === \"therapy\") {\r\n    return getEnumValues(Therapy);\r\n  } else if (category === \"oxygen\") {\r\n    return getEnumValues(Oxygen);\r\n  } else if (category === \"bed\") {\r\n    return getEnumValues(Bed);\r\n  } else if (category === \"bloodgroup\") {\r\n    return getEnumValues(BloodGroup);\r\n  } else if (category === \"ambulance\") {\r\n    return getEnumValues(Ambulance);\r\n  } else if (category === \"food\") {\r\n    return getEnumValues(Food);\r\n  } else if (category === \"vaccine\") {\r\n    return getEnumValues(Vaccine);\r\n  } else {\r\n    return [];\r\n  }\r\n}\r\n","export function WhatsAppChat(props: {\r\n  sender: string;\r\n  text: string;\r\n  time: string;\r\n}) {\r\n  return (\r\n      <div className=\"speech-wrapper\">\r\n        <div className=\"bubble\">\r\n          <div className=\"txt\">\r\n            <p className=\"name\">\r\n              {props.sender}\r\n              <span></span>\r\n            </p>\r\n            <p className=\"message\">{props.text}</p>\r\n            <br/>\r\n            <span className=\"timestamp\">{new Date(props.time).toLocaleString()}</span>\r\n          </div>\r\n          <div className=\"bubble-arrow\"></div>\r\n        </div>\r\n      </div>\r\n  );\r\n}\r\n","import { Icon, Persona, PersonaSize } from \"@fluentui/react\";\r\nimport { ILead, IListingContact } from \"./Models\";\r\nimport { Image } from \"@fluentui/react/lib/Image\";\r\nimport { CATEGORIES, categoryMapping, CategoryType, toTitleCase } from \"./Utils\";\r\nimport { WhatsAppChat } from \"./WhatsAppChat\";\r\nimport { Tweet } from \"react-twitter-widgets\";\r\n\r\nexport function DetailsPane(props: { contact: IListingContact }) {\r\n  return (\r\n    <div style={{ width: \"100%\", overflowY: \"auto\", height: \"100%\" }}>\r\n      <Persona\r\n        text={props.contact.contactuid}\r\n        secondaryText={props.contact.type.toUpperCase()}\r\n        tertiaryText={`${props.contact.leads?.length} people shared this!`}\r\n        imageInitials={props.contact.type[0].toUpperCase()}\r\n        size={PersonaSize.size72}\r\n      />\r\n      <hr />\r\n      {props.contact.location?.map(toTitleCase).join(\", \") || \"\"}\r\n      <hr/>\r\n      <div style={{ display: \"flex\" }}>\r\n        {CATEGORIES.map((cat) => (\r\n          <ListCard key={cat} category={cat} contact={props.contact} />\r\n        ))}\r\n      </div>\r\n      <hr />\r\n      <div style={{ display: \"flex\", alignItems: \"center\", flexWrap: \"wrap\" }}>\r\n        {props.contact.leads\r\n          ?.sort(\r\n            (a, b) =>\r\n              new Date(b.originTimestamp).getTime() -\r\n              new Date(a.originTimestamp).getTime()\r\n          )\r\n          .slice(0, 30)\r\n          .map((lead: ILead) => (\r\n            <Lead key={lead.leaduid} lead={lead} />\r\n          ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction ListCard(props: { category: CategoryType; contact: any }) {\r\n  const { category, contact } = props;\r\n\r\n  return contact[category].length > 0 ? (\r\n    <div style={{ width: 200, padding: 10 }}>\r\n      <div style={{ display: \"flex\", alignItems: \"center\" }}>\r\n        <Icon\r\n          iconName={categoryMapping[category].logoIcon}\r\n          style={{ fontSize: 25, color: categoryMapping[category].color }}\r\n        />\r\n        <h3 style={{ display: \"inline-block\", margin: \"0 5px\" }}>\r\n          {categoryMapping[category].text}\r\n        </h3>\r\n      </div>\r\n      <ul style={{ paddingLeft: 25 }}>\r\n        {contact?.[category]?.map((item: string) => (\r\n          <li key={item}>{item}</li>\r\n        ))}\r\n      </ul>\r\n    </div>\r\n  ) : null;\r\n}\r\n\r\nfunction Lead(props: { lead: ILead }) {\r\n  const { lead } = props;\r\n  return (\r\n    <>\r\n      {lead.source === \"whatsapp\" ? (\r\n        lead.link ? (\r\n          <Image\r\n            src={`https://covidresourcesstore.blob.core.windows.net/files/${lead.link}.jpeg`}\r\n            width={300}\r\n            height={400}\r\n          />\r\n        ) : (\r\n          <WhatsAppChat\r\n            sender={normalizeContact(lead.sender.split(\"@\")[0])}\r\n            text={JSON.parse(props.lead.rawdata || \"{}\").message}\r\n            time={lead.originTimestamp.toString()}\r\n          />\r\n        )\r\n      ) : (\r\n        <div style={{ margin: 10, display: \"inline-block\", width: 320 }}>\r\n          <Tweet tweetId={(lead.link || \"\").substr(-19)} />\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n\r\nfunction normalizeContact(phoneNumber: string) {\r\n  let normalizedContact = phoneNumber.replace(/[^0-9.]/g, \"\");\r\n  // helpline number\r\n  if (\r\n    normalizedContact.startsWith(\"1\") &&\r\n    // numbers like 100, 1075, 1800 209 2359\r\n    ((normalizeContact.length >= 3 && normalizeContact.length < 6) ||\r\n      normalizeContact.length === 11)\r\n  ) {\r\n    //do nothing\r\n  } else {\r\n    const number = normalizedContact.substr(-10);\r\n    if (number) normalizedContact = \"+91\" + number;\r\n  }\r\n\r\n  return normalizedContact;\r\n}\r\n","import {\n  DefaultButton,\n  initializeIcons,\n  IStackTokens,\n  Panel,\n  PanelType,\n  Stack,\n  Link as FluentLink,\n  FocusZoneDirection,\n  FocusZone,\n  setFocusVisibility,\n} from \"@fluentui/react\";\nimport React, { useEffect, useState } from \"react\";\nimport {\n  HashRouter as Router,\n  Switch,\n  Route,\n  RouteComponentProps,\n  Link,\n  withRouter,\n} from \"react-router-dom\";\nimport { ResourceCardCompact } from \"./CompactResouceCard\";\nimport { IListingContact } from \"./Models\";\nimport { useBoolean } from \"@fluentui/react-hooks\";\nimport { FilterControls } from \"./FilterControls\";\nimport { CATEGORIES } from \"./Utils\";\nimport { DetailsPane } from \"./DetailsPane\";\nimport \"./App.css\";\n\nconst stackTokens: IStackTokens = { childrenGap: 10 };\n\n// Initialize icons in case this example uses them\ninitializeIcons();\n\n// This site has 3 pages, all of which are rendered\n// dynamically in the browser (not server rendered).\n//\n// Although the page does not ever refresh, notice how\n// React Router keeps the URL up to date as you navigate\n// through the site. This preserves the browser history,\n// making sure things like the back button and bookmarks\n// work properly.\n\nexport default function App() {\n  return (\n    <Router>\n      <div>\n        <Switch>\n          <Route exact path=\"/\">\n            <Home />\n          </Route>\n          <Route path=\"/search\" component={Search}></Route>\n          <Route path=\"/details\">\n            <Details />\n          </Route>\n        </Switch>\n      </div>\n    </Router>\n  );\n}\n\n// You can think of these components as \"pages\"\n// in your app.\n\nfunction Home() {\n  return (\n    <Stack\n      verticalAlign=\"center\"\n      verticalFill\n      styles={{\n        root: {\n          margin: \"0 20px\",\n        },\n      }}\n      tokens={stackTokens}\n    >\n      <p>\n        More options coming soon, reach out to +91-8882017983. Till then you can{\" \"}\n        <Link to=\"/search\">Search for Covid Resources</Link>\n      </p>\n    </Stack>\n  );\n}\n\nconst Search = withRouter((props: RouteComponentProps) => {\n  const [paramStr, setParamString] = React.useState(props.location.search);\n  const params = new URLSearchParams(paramStr);\n\n  const cat = getCurrentCategory(params);\n  const [category, setCategory] = React.useState(cat.category);\n  const [type, setType] = React.useState(getCurrentType(params));\n  const [subCategory, setSubCategory] = React.useState<string[]>(cat.options);\n\n  const [resources, setResources] = useState<IListingContact[]>([]);\n  const [isLoading, setIsLoading] = useState(true);\n\n  const onHistoryChange = (location: {\n    search: React.SetStateAction<string>;\n  }) => {\n    setParamString(location.search);\n  };\n\n  useEffect(() => {\n    const removeListener = props.history.listen(onHistoryChange);\n    const newParams = new URLSearchParams(paramStr);\n    const searchUrl = formSearchUrl(newParams);\n\n    fetch(searchUrl, {\n      method: \"GET\",\n    })\n      .then((res) => res.json())\n      .then((response) => {\n        setResources(response.rows);\n        setIsLoading(false);\n      })\n      .catch((error) => console.log(error));\n\n    return () => {\n      removeListener();\n    };\n  }, [paramStr, props.history]);\n\n  const [isOpen, { setTrue: openFiltersPanel, setFalse: dismissPanel }] =\n    useBoolean(false);\n\n  const setFilterCategory = (newCategory: string) => {\n    if (newCategory === category) {\n      return;\n    }\n    if (newCategory === \"all\") {\n      CATEGORIES.forEach((cat) => {\n        params.delete(cat);\n      });\n      updateParams(params.toString());\n    }\n    setCategory(newCategory);\n  };\n\n  const setFilterType = (newType: string) => {\n    if (type === newType) {\n      return;\n    }\n    params.delete(\"type\");\n    if (newType === \"availability\" || newType === \"requirement\") {\n      params.append(\"type\", newType);\n    }\n    updateParams(params.toString());\n    setType(newType);\n  };\n\n  const setFilterSubcategory = (options: string[]) => {\n    params.delete(category);\n    options.forEach((opt) => params.append(category, opt));\n    updateParams(params.toString());\n    setSubCategory(options);\n  };\n\n  const updateParams = (newParamStr: string) => {\n    props.history.push(`/search?${newParamStr}`);\n    setParamString(newParamStr);\n  };\n  setFocusVisibility(true);\n  const [selectedIdx, setSelectedIdx] = useState(0);\n  return (\n    <Stack\n      verticalAlign=\"center\"\n      verticalFill\n      styles={{\n        root: {\n          margin: \"0 20px\",\n        },\n      }}\n      tokens={stackTokens}\n    >\n      <h2>Search</h2>\n      <DefaultButton\n        text=\"Open filters\"\n        onClick={openFiltersPanel}\n        style={{ marginBottom: 10, maxWidth: 482 }}\n      />\n      <div>\n        <Panel\n          headerText=\"Filters\"\n          isOpen={isOpen}\n          onDismiss={dismissPanel}\n          isLightDismiss\n          type={PanelType.medium}\n          // You MUST provide this prop! Otherwise screen readers will just say \"button\" with no label.\n          closeButtonAriaLabel=\"Close\"\n        >\n          <FilterControls\n            category={category}\n            subCategory={subCategory}\n            type={type}\n            setCategory={setFilterCategory}\n            setSubCategory={setFilterSubcategory}\n            setType={setFilterType}\n          />\n        </Panel>\n      </div>\n      {isLoading ? (\n        <></>\n      ) : (\n        <FocusZone\n          direction={FocusZoneDirection.vertical}\n          isCircularNavigation={true}\n          role=\"grid\"\n          defaultTabbableElement={\"div.ms-DocumentCard:first-child\"}\n          shouldFocusOnMount={true}\n          style={{ display: \"flex\", flexDirection: \"row\" }}\n          onFocus={(ev) => {\n            if (resources && resources.length > 0) {\n              const clickResourceNode = ev.target.closest(\".ms-DocumentCard\");\n              var nodes = Array.prototype.slice.call(\n                clickResourceNode?.parentNode?.childNodes\n              );\n              setSelectedIdx(nodes.indexOf(clickResourceNode));\n            }\n          }}\n        >\n          <Stack\n            tokens={stackTokens}\n            wrap={true}\n            styles={{ inner: { width: 500 } }}\n          >\n            {resources && resources.length ? (\n              resources.map((r) => (\n                <ResourceCardCompact resource={r} key={r.contactuid} />\n              ))\n            ) : (\n              <p>\n                {\"No results to show yet, \"}\n                <FluentLink onClick={openFiltersPanel}>\n                  {\"try using different filters.\"}\n                </FluentLink>\n                <br />\n                {\"Meanwhile, we will work on getting more leads!\"}\"\n              </p>\n            )}\n          </Stack>\n          {resources && resources.length > 0 && (\n            <div\n              style={{\n                position: \"fixed\",\n                height: \"calc(100vh - 60px)\",\n                left: 520,\n                top: 80,\n              }}\n            >\n              <DetailsPane contact={resources[selectedIdx]} />\n            </div>\n          )}\n        </FocusZone>\n      )}\n    </Stack>\n  );\n});\n\nfunction Details() {\n  return (\n    <div>\n      <h2>Details</h2>\n    </div>\n  );\n}\n\nfunction formSearchUrl(params: URLSearchParams): string {\n  return `https://covidresourcesapi.azurewebsites.net/contacts?${params.toString()}`;\n}\n\nfunction getCurrentType(params: URLSearchParams): string {\n  const types = params.getAll(\"type\");\n  if (!types || types.length === 0 || types.length === 2) {\n    return \"both\";\n  } else {\n    return types[0];\n  }\n}\n\nfunction getCurrentCategory(params: URLSearchParams): {\n  category: string;\n  options: string[];\n} {\n  for (const cat of CATEGORIES) {\n    let paramValues = params.getAll(cat) || [];\n    if (paramValues.length > 0) {\n      return { category: cat, options: paramValues };\n    }\n  }\n  return { category: \"all\", options: [] };\n}\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}