(this["webpackJsonpcovid-resources-portal"]=this["webpackJsonpcovid-resources-portal"]||[]).push([[0],{118:function(e,t,o){},121:function(e,t,o){},126:function(e,t,o){"use strict";o.r(t);var n=o(0),c=o.n(n),i=o(45),a=o.n(i),r=(o(118),o(77)),l=o(26),s=o(183),d=o(188),u=o(56),b=o(197),h=o(187),p=o(16),j=o(203),x=o(23),g=o(192),y=o(68),m=o(12),f=o(93),O=o(191),v=o(55),w=o(193),C=o(194),S=o(199),k=o(195),A=o(200);function I(e,t){var o=6e4,n=36e5,c=864e5,i=2592e6,a=31536e6,r=e-t;return r<o?Math.round(r/1e3)+" seconds ago":r<n?Math.round(r/o)+" minutes ago":r<c?Math.round(r/n)+" hours ago":r<i?Math.round(r/c)+" days ago":r<a?Math.round(r/i)+" months ago":Math.round(r/a)+" years ago"}function P(e){return e.replace(/\w\S*/g,(function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()}))}var B={medicine:{text:"Medicine",color:"black",logoIcon:"Hospital"},bloodgroup:{text:"Blood Group",color:"red",logoIcon:"Drop"},therapy:{text:"Therapy",color:"orange",logoIcon:"Health"},vaccine:{text:"Vaccine",color:"green",logoIcon:"ShieldSolid"},oxygen:{text:"Oxygen Supplies",color:"blue",logoIcon:"SpeedHigh"},bed:{text:"Beds",color:"black",logoIcon:"Hotel"},ambulance:{text:"Ambulance",color:"black",logoIcon:"ParkingLocationMirrored"},food:{text:"Food",color:"green",logoIcon:"Breakfast"}};function N(e){return Object.values(e).map((function(e){return{key:e,text:e}}))}var T,M,z,D,F,R,L,E,G,U,q=["medicine","bloodgroup","vaccine","therapy","oxygen","bed","ambulance","food"],H=o(5),J=function(e){var t,o,n=e.resource,c=(null===(t=n.leads)||void 0===t?void 0:t.map((function(e){return{name:e.sender,profileImageSrc:""}})))||[],i=function(e){var t=[],o=[];return q.forEach((function(n){var c;e[n]&&(null===(c=e[n])||void 0===c?void 0:c.length)&&(t.push((e[n]||[]).join(";")),o.push(B[n]))})),{text:t,icons:o}}(n);return Object(H.jsxs)(O.a,{onClick:function(e){Object(u.b)(!0)},type:v.a.compact,style:{height:160,overflow:"hidden"},children:[Object(H.jsxs)("div",{style:{position:"relative",width:150,overflow:"hidden"},children:[Object(H.jsx)("a",{"data-is-focusable":!1,style:{fontSize:15,fontWeight:600,color:"rgb(0, 120, 212)",display:"inline-block",padding:"8px 16px",textDecoration:"none",wordBreak:"break-word"},href:"+"===n.contactuid[0]?"tel://".concat(n.contactuid):n.contactuid,children:n.contactuid}),Object(H.jsx)("div",{style:{position:"absolute",margin:"0 20px"},children:i.icons.map((function(e,t){return Object(H.jsx)(w.a,Object(f.a)({},{styles:{root:{fontSize:20,padding:5,display:"inline-block",color:(o=e).color}},logoIcon:o.logoIcon}),t);var o}))})]}),Object(H.jsxs)(C.a,{children:[Object(H.jsx)(S.a,{title:"".concat(n.type.toUpperCase(),": ").concat(i.text.map(P).join(", ")),shouldTruncate:!0,showAsSecondaryTitle:!0,styles:{root:{textTransform:"Capitalize",fontWeight:"bold"}}}),Object(H.jsx)(k.a,{statusIcon:"MapPin",styles:{root:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},status:(null===(o=n.location)||void 0===o?void 0:o.map(P).join(", "))||""}),Object(H.jsx)(A.a,{activity:"Last shared: ".concat(I((new Date).getTime(),new Date(n.lastShared).getTime())),people:c})]})]})},W=o(182),K=o(91),V=o(184),X=o(189);!function(e){e.Availability="availability",e.Requirement="requirement"}(T||(T={})),function(e){e.WhatsApp="whatsapp",e.Twitter="twitter"}(M||(M={})),function(e){e.CovidMedicines="Covid Medicines",e.LiposomalAmphotericinB="Liposomal Amphotericin B",e.Tocilizumab="Tocilizumab",e.BaricitinibOlumiant="Baricitinib Olumiant",e.Fabiflu="Fabiflu",e.Favipivavir="Favipivavir",e.Xarelto="Xarelto",e.SodiumLactate="Sodium Lactate",e.SodiumChloride="Sodium Chloride",e.Doxycycline="Doxycycline",e.Pantoprazole="Pantoprazole",e.Anidulafungin="Anidulafungin",e.Meropenem="Meropenem",e.Deflazacort="Deflazacort",e.Zinc="Zinc",e.Azithromycin="Azithromycin",e.Bevacuzimab="Bevacuzimab",e.Enoxaparin="Enoxaparin",e.Posatral="Posatral",e.Medrol="Medrol",e.Remdesivir="Remdesivir",e.Cresemba="Cresemba",e.Alprazolam="Alprazolam"}(z||(z={})),function(e){e.Ambulance="Ambulance"}(D||(D={})),function(e){e.Food="Food",e.DryRation="Dry Ration"}(F||(F={})),function(e){e.OxygenCans="Oxygen Cans",e.OxygenCylinders="Oxygen Cylinders",e.OxygenConcentrators="Oxygen Concentrators",e.OxygenRefill="Oxygen Refill",e.OxygenRegulator="Oxygen Regulator",e.Oximeter="Oximeter",e.Respirometer="Respirometer"}(R||(R={})),function(e){e.HomeICU="Home ICU",e.OxygenBeds="Oxygen Beds",e.ICUBeds="ICU Beds",e.Ventilators="Ventilators"}(L||(L={})),function(e){e.ECMO="ECMO",e.Plasma="Plasma"}(E||(E={})),function(e){e.AnyGroup="Any Group",e.APOS="A+",e.ANEG="A-",e.BPOS="B+",e.BNEG="B-",e.ABPOS="AB+",e.ABNEG="AB-",e.OPOS="O+",e.ONEG="O-"}(G||(G={})),function(e){e.Covishield="Covishield",e.Covaxin="Covaxin",e.Moderna="Moderna",e.Pfizer="Pfizer",e.Sputnik="Sputnik",e.Johnson="Johnson & Johnson"}(U||(U={}));var Z=function(e){var t=e.type,o=e.category,c=e.subCategory,i=e.setCategory,a=e.setSubCategory,r=e.setType,s=n.createRef(),u=n.useState(_(o)),b=Object(l.a)(u,2),h=b[0],p=b[1];return Object(H.jsxs)(d.a,{tokens:{childrenGap:5},children:[Object(H.jsx)(X.a,{selectedKey:t,options:$,onChange:function(e,t){var o=(null===t||void 0===t?void 0:t.key)||"both";r(o)},label:"Show me"}),Object(H.jsx)(X.a,{label:"Pick one category",defaultSelectedKey:o,options:Q,onChange:function(e,t){var o=(null===t||void 0===t?void 0:t.key)||"all";p(_(o)),a([]),i(o),"all"!==o&&s.current.focus(!0)}}),Object(H.jsx)(V.a,{placeholder:"Select options",label:"Select subCategory you are looking for",selectedKeys:c,componentRef:s,onChange:function(e,t,o){t&&a(t.selected?[].concat(Object(K.a)(c),[t.key]):c.filter((function(e){return e!==t.key})))},multiSelect:!0,required:"all"!==o,disabled:"all"===o,options:h,styles:Y,onDismiss:function(){0===c.length&&"all"!==o&&a(h.map((function(e){return e.key})))}})]})},Y={dropdown:{width:300}},Q=[{key:"all",text:"All",iconProps:{iconName:"CheckList",style:{color:"gray"}}},{key:"medicine",text:B.medicine.text,iconProps:{iconName:B.medicine.logoIcon,style:{color:B.medicine.color}}},{key:"bloodgroup",text:B.bloodgroup.text,iconProps:{iconName:B.bloodgroup.logoIcon,style:{color:B.bloodgroup.color}}},{key:"therapy",text:B.therapy.text,iconProps:{iconName:B.therapy.logoIcon,style:{color:B.therapy.color}}},{key:"vaccine",text:B.vaccine.text,iconProps:{iconName:B.vaccine.logoIcon,style:{color:B.vaccine.color}}},{key:"oxygen",text:B.oxygen.text,iconProps:{iconName:B.oxygen.logoIcon,style:{color:B.oxygen.color}}},{key:"bed",text:B.bed.text,iconProps:{iconName:B.bed.logoIcon,style:{color:B.bed.color}}},{key:"ambulance",text:B.ambulance.text,iconProps:{iconName:B.ambulance.logoIcon,style:{color:B.ambulance.color}}},{key:"food",text:B.food.text,iconProps:{iconName:B.food.logoIcon,style:{color:B.food.color}}}],$=[{key:"both",text:"Both"},{key:"availability",text:"Availability"},{key:"requirement",text:"Requirement"}];function _(e){return"medicine"===e?N(z):"therapy"===e?N(E):"oxygen"===e?N(R):"bed"===e?N(L):"bloodgroup"===e?N(G):"ambulance"===e?N(D):"food"===e?N(F):"vaccine"===e?N(U):[]}var ee=o(185),te=o(2),oe=o(92),ne=o(51);function ce(e){return Object(H.jsx)("div",{className:"speech-wrapper",children:Object(H.jsxs)("div",{className:"bubble",children:[Object(H.jsxs)("div",{className:"txt",children:[Object(H.jsxs)("p",{className:"name",children:[e.sender,Object(H.jsx)("span",{})]}),Object(H.jsx)("p",{className:"message",children:e.text}),Object(H.jsx)("br",{}),Object(H.jsx)("span",{className:"timestamp",children:new Date(e.time).toLocaleString()})]}),Object(H.jsx)("div",{className:"bubble-arrow"})]})})}var ie=o(94);function ae(e){var t,o,n;return Object(H.jsxs)("div",{style:{width:"100%",overflowY:"auto",height:"100%"},children:[Object(H.jsx)(ee.a,{text:e.contact.contactuid,secondaryText:e.contact.type.toUpperCase(),tertiaryText:"".concat(null===(t=e.contact.leads)||void 0===t?void 0:t.length," people shared this!"),imageInitials:e.contact.type[0].toUpperCase(),size:te.c.size72}),Object(H.jsx)("hr",{}),(null===(o=e.contact.location)||void 0===o?void 0:o.map(P).join(", "))||"",Object(H.jsx)("hr",{}),Object(H.jsx)("div",{style:{display:"flex"},children:q.map((function(t){return Object(H.jsx)(re,{category:t,contact:e.contact},t)}))}),Object(H.jsx)("hr",{}),Object(H.jsx)("div",{style:{display:"flex",alignItems:"center",flexWrap:"wrap"},children:null===(n=e.contact.leads)||void 0===n?void 0:n.sort((function(e,t){return new Date(t.originTimestamp).getTime()-new Date(e.originTimestamp).getTime()})).slice(0,30).map((function(e){return Object(H.jsx)(le,{lead:e},e.leaduid)}))})]})}function re(e){var t,o=e.category,n=e.contact;return n[o].length>0?Object(H.jsxs)("div",{style:{width:200,padding:10},children:[Object(H.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(H.jsx)(oe.a,{iconName:B[o].logoIcon,style:{fontSize:25,color:B[o].color}}),Object(H.jsx)("h3",{style:{display:"inline-block",margin:"0 5px"},children:B[o].text})]}),Object(H.jsx)("ul",{style:{paddingLeft:25},children:null===n||void 0===n||null===(t=n[o])||void 0===t?void 0:t.map((function(e){return Object(H.jsx)("li",{children:e},e)}))})]}):null}function le(e){var t=e.lead;return Object(H.jsx)(H.Fragment,{children:"whatsapp"===t.source?t.link?Object(H.jsx)(ne.a,{src:"https://covidresourcesstore.blob.core.windows.net/files/".concat(t.link,".jpeg"),width:300,height:400}):Object(H.jsx)(ce,{sender:se(t.sender.split("@")[0]),text:JSON.parse(e.lead.rawdata||"{}").message,time:t.originTimestamp.toString()}):Object(H.jsx)("div",{style:{margin:10,display:"inline-block",width:320},children:Object(H.jsx)(ie.a,{tweetId:(t.link||"").substr(-19)})})})}function se(e){var t=e.replace(/[^0-9.]/g,"");if(t.startsWith("1")&&(se.length>=3&&se.length<6||11===se.length));else{var o=t.substr(-10);o&&(t="+91"+o)}return t}o(121);var de={childrenGap:10};function ue(){return Object(H.jsx)(y.a,{children:Object(H.jsx)("div",{children:Object(H.jsxs)(m.c,{children:[Object(H.jsx)(m.a,{exact:!0,path:"/",children:Object(H.jsx)(be,{})}),Object(H.jsx)(m.a,{path:"/search",component:he}),Object(H.jsx)(m.a,{path:"/details",children:Object(H.jsx)(pe,{})})]})})})}function be(){return Object(H.jsx)(d.a,{verticalAlign:"center",verticalFill:!0,styles:{root:{margin:"0 20px"}},tokens:de,children:Object(H.jsxs)("p",{children:["More options coming soon, reach out to +91-8882017983. Till then you can"," ",Object(H.jsx)(y.b,{to:"/search",children:"Search for Covid Resources"})]})})}Object(s.a)();var he=Object(m.f)((function(e){var t=c.a.useState(e.location.search),o=Object(l.a)(t,2),i=o[0],a=o[1],s=new URLSearchParams(i),y=function(e){var t,o=Object(r.a)(q);try{for(o.s();!(t=o.n()).done;){var n=t.value,c=e.getAll(n)||[];if(c.length>0)return{category:n,options:c}}}catch(i){o.e(i)}finally{o.f()}return{category:"all",options:[]}}(s),m=c.a.useState(y.category),f=Object(l.a)(m,2),O=f[0],v=f[1],w=c.a.useState(function(e){var t=e.getAll("type");return t&&0!==t.length&&2!==t.length?t[0]:"both"}(s)),C=Object(l.a)(w,2),S=C[0],k=C[1],A=c.a.useState(y.options),I=Object(l.a)(A,2),P=I[0],B=I[1],N=Object(n.useState)([]),T=Object(l.a)(N,2),M=T[0],z=T[1],D=Object(n.useState)(!0),F=Object(l.a)(D,2),R=F[0],L=F[1],E=function(e){a(e.search)};Object(n.useEffect)((function(){var t=e.history.listen(E),o=function(e){return"https://covidresourcesapi.azurewebsites.net/contacts?".concat(e.toString())}(new URLSearchParams(i));return fetch(o,{method:"GET"}).then((function(e){return e.json()})).then((function(e){z(e.rows),L(!1)})).catch((function(e){return console.log(e)})),function(){t()}}),[i,e.history]);var G=Object(W.a)(!1),U=Object(l.a)(G,2),K=U[0],V=U[1],X=V.setTrue,Y=V.setFalse,Q=function(t){e.history.push("/search?".concat(t)),a(t)};Object(u.b)(!0);var $=Object(n.useState)(0),_=Object(l.a)($,2),ee=_[0],te=_[1];return Object(H.jsxs)(d.a,{verticalAlign:"center",verticalFill:!0,styles:{root:{margin:"0 20px"}},tokens:de,children:[Object(H.jsx)("h2",{children:"Search"}),Object(H.jsx)(b.a,{text:"Open filters",onClick:X,style:{marginBottom:10,maxWidth:482}}),Object(H.jsx)("div",{children:Object(H.jsx)(h.a,{headerText:"Filters",isOpen:K,onDismiss:Y,isLightDismiss:!0,type:p.a.medium,closeButtonAriaLabel:"Close",children:Object(H.jsx)(Z,{category:O,subCategory:P,type:S,setCategory:function(e){e!==O&&("all"===e&&(q.forEach((function(e){s.delete(e)})),Q(s.toString())),v(e))},setSubCategory:function(e){s.delete(O),e.forEach((function(e){return s.append(O,e)})),Q(s.toString()),B(e)},setType:function(e){S!==e&&(s.delete("type"),"availability"!==e&&"requirement"!==e||s.append("type",e),Q(s.toString()),k(e))}})})}),R?Object(H.jsx)(H.Fragment,{}):Object(H.jsxs)(j.a,{direction:x.a.vertical,isCircularNavigation:!0,role:"grid",defaultTabbableElement:"div.ms-DocumentCard:first-child",shouldFocusOnMount:!0,style:{display:"flex",flexDirection:"row"},onFocus:function(e){if(M&&M.length>0){var t,o=e.target.closest(".ms-DocumentCard"),n=Array.prototype.slice.call(null===o||void 0===o||null===(t=o.parentNode)||void 0===t?void 0:t.childNodes);te(n.indexOf(o))}},children:[Object(H.jsx)(d.a,{tokens:de,wrap:!0,styles:{inner:{width:500}},children:M&&M.length?M.map((function(e){return Object(H.jsx)(J,{resource:e},e.contactuid)})):Object(H.jsxs)("p",{children:["No results to show yet, ",Object(H.jsx)(g.a,{onClick:X,children:"try using different filters."}),Object(H.jsx)("br",{}),"Meanwhile, we will work on getting more leads!",'"']})}),M&&M.length>0&&Object(H.jsx)("div",{style:{position:"fixed",height:"calc(100vh - 60px)",left:520,top:80},children:Object(H.jsx)(ae,{contact:M[ee]})})]})]})}));function pe(){return Object(H.jsx)("div",{children:Object(H.jsx)("h2",{children:"Details"})})}var je=function(e){e&&e instanceof Function&&o.e(3).then(o.bind(null,204)).then((function(t){var o=t.getCLS,n=t.getFID,c=t.getFCP,i=t.getLCP,a=t.getTTFB;o(e),n(e),c(e),i(e),a(e)}))};a.a.render(Object(H.jsx)(c.a.StrictMode,{children:Object(H.jsx)(ue,{})}),document.getElementById("root")),je()}},[[126,1,2]]]);
//# sourceMappingURL=main.bad95787.chunk.js.map